(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{2728:function(e,t,n){Promise.resolve().then(n.bind(n,1341))},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},1341:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),s=n(2265),u=n(9376),i=n(5389),a=n(4716);function c(){let{signUp:e}=(0,i.a)(),t=(0,u.useRouter)(),[n,c]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[f,d]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1);async function h(r){r.preventDefault(),x(!0),await e(n,o,f),x(!1),t.push("/")}return(0,r.jsxs)("div",{className:"space-y-4 max-w-sm",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Sign up"}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-zinc-400",children:"Email"}),(0,r.jsx)(a.II,{type:"email",value:n,onChange:e=>c(e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-zinc-400",children:"Password"}),(0,r.jsx)(a.II,{type:"password",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[(0,r.jsx)(a.XZ,{checked:f,onChange:e=>d(e.currentTarget.checked)}),"Register as admin (demo)"]}),(0,r.jsx)(a.zx,{type:"submit",disabled:m,children:m?"Creating...":"Create account"})]})]})}},4716:function(e,t,n){"use strict";n.d(t,{II:function(){return i},XZ:function(){return a},zx:function(){return u}});var r=n(7437);n(2265);var s=n(1994);function u(e){let{className:t,...n}=e;return(0,r.jsx)("button",{className:(0,s.W)("inline-flex items-center justify-center rounded-md bg-brand px-3 py-2 text-sm font-medium text-black","hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand/50 disabled:opacity-50",t),...n})}function i(e){let{className:t,...n}=e;return(0,r.jsx)("input",{className:(0,s.W)("w-full rounded-md border border-zinc-800 bg-zinc-900 px-3 py-2 text-sm text-zinc-100","placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand/40",t),...n})}function a(e){let{className:t,...n}=e;return(0,r.jsx)("input",{type:"checkbox",className:(0,s.W)("h-4 w-4 accent-brand",t),...n})}},5389:function(e,t,n){"use strict";n.d(t,{H:function(){return a},a:function(){return c}});var r=n(7437),s=n(2265);let u=(0,s.createContext)(void 0),i="auth:user";function a(e){let{children:t}=e,[n,a]=(0,s.useState)(null);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(i);e&&a(JSON.parse(e))}catch(e){}},[]);let c=async(e,t)=>{let n=localStorage.getItem(i);if(n){a(JSON.parse(n));return}let r={email:e,role:"user"};localStorage.setItem(i,JSON.stringify(r)),a(r)},o=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={email:e,role:n?"admin":"user"};localStorage.setItem(i,JSON.stringify(r)),a(r)},l=()=>{localStorage.removeItem(i),a(null)},f=(0,s.useMemo)(()=>({user:n,signIn:c,signUp:o,signOut:l}),[n]);return(0,r.jsx)(u.Provider,{value:f,children:t})}function c(){let e=(0,s.useContext)(u);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},1994:function(e,t,n){"use strict";function r(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function e(t){var n,r,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var u=t.length;for(n=0;n<u;n++)t[n]&&(r=e(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{W:function(){return r}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2728)}),_N_E=e.O()}]);